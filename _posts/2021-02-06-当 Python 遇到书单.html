---
layout: post
status: publish
published: true
title: '当 Python 遇到书单'
excerpt: 'HOW TO 系列 NO.21'
author:
  display_name: huahuoding
  login: huahuoding
  email: dinghuahuo@gmail.com
  url: ''
featured-image: 'https://cloud.huahuoding.com/images/2021/02/06/2021020613C444.jpeg'
featured-image-alt: '当 Python 遇到书单'
wx_url: 'http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&mid=2650025203&idx=1&sn=821dbce20f77b89f5e09f0c18eb9cc60&chksm=f032add2c74524c4208205babcd24d48fc104ad83e70bb86075b96be745456007693d4088f5a#rd'
date: '2021-02-06 18:00:00 +0800'
date_gmt: '2021-02-06 18:00:00 +0800'
categories:
- 花火田丁
tags: []
comments: []
---

<div class="rich_media_wrp" id="img-content">
<h1 class="rich_media_title" id="activity-name">
                    
                    
                    
当 Python 遇到书单
                </h1>
<div class="rich_media_meta_list" id="meta_content">
<span class="wx_tap_link js_wx_tap_highlight rich_media_meta icon_appmsg_tag appmsg_title_tag weui-wa-hotarea" id="copyright_logo">原创</span>
<span class="rich_media_meta rich_media_meta_text">
<span class="wx_tap_link js_wx_tap_highlight rich_media_meta_link weui-wa-hotarea" datacanreward="0" datarewardsn="" datatimestamp="" id="js_author_name" role="link">花火田丁</span>
</span>
<span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
<a class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" href="{{page.wx_url}}" id="js_name">
                        花火田丁                      </a>
<div aria-hidden="true" class="profile_container" id="js_profile_qrcode" style="display:none;">
<div class="profile_inner">
<strong class="profile_nickname">花火田丁</strong>
<img alt="" class="profile_avatar" id="js_profile_qrcode_img" src=""/>
<p class="profile_meta">
<label class="profile_meta_label">微信号</label>
<span class="profile_meta_value">huahuoding</span>
</p>
<p class="profile_meta">
<label class="profile_meta_label">功能介绍</label>
<span class="profile_meta_value">对与错，是与非，下一秒钟你又在哪里？这里有一切关于「relativity」的故事</span>
</p>
</div>
<span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
<i class="profile_arrow arrow_out"></i>
<i class="profile_arrow arrow_in"></i>
</span>
</div>
</span>
<em class="rich_media_meta rich_media_meta_text" id="publish_time">{{page.date}}</em>
</div>

<div class="rich_media_content" id="js_content" style="visibility: visible;">
<section style="white-space: normal;"><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><section><qqmusic albumid="000NY4Uv02xwvi" albumurl="https://y.gtimg.cn/music/photo_new/T002R68x68M000000NY4Uv02xwvi.jpg" audiourl="http://isure6.stream.qqmusic.qq.com/C200000tBdkA49WjgJ.m4a?guid=2000001731&amp;vkey=68729681A804569EE1C064EBC50E5C7AD688B0BCC49D70B0F19456D943888C2042BF1336DACEDD90FFD92B2001FBA376E585C9DD6A35B160&amp;uin=&amp;fromtag=50" class="js_editor_qqmusic qqmusic_iframe js_uneditable custom_select_card" data-pluginname="insertaudio" jumpurlkey="" mid="000tBdkA49WjgJ" music_name="Milk and Toast and Honey" musicid="280822105" musictype="1" otherid="000tBdkA49WjgJ" play_length="286" singer="Klaus Hallen Tanzorchester - Dancefloor Stars, Vol. 3" src="/cgi-bin/readtemplate?t=tmpl/qqmusic_tmpl&amp;singer=Klaus%20Hallen%20Tanzorchester%20-%20Dancefloor%20Stars%2C%20Vol.%203&amp;music_name=Milk%20and%20Toast%20and%20Honey&amp;albumurl=https%3A%2F%2Fy.gtimg.cn%2Fmusic%2Fphoto_new%2FT002R68x68M000000NY4Uv02xwvi.jpg&amp;musictype=1"></qqmusic></section><p style="text-align: center;"><img class="rich_pages" data-ratio="1.7786666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv1kR9M6tRK9ZfhBxu9SlK7lW8xfSF6bCOuicn1FOFVlB5vWfmOd2fP5By81yb6fuoSfXic1RBnEz2yQ/640?wx_fmt=png" data-type="png" data-w="750" src="https://cloud.huahuoding.com/images/2021/02/06/2021020697948n.png" style=""/></p><p style="text-indent: 0em;"><span style="color: rgb(136, 136, 136);text-indent: 0em;">题</span><span style="color: rgb(136, 136, 136);text-indent: 0em;">图来自于NextDay</span><br/><span style="color: rgb(136, 136, 136);text-indent: 0em;"></span></p></section></section></section></section></section></section></section></section><section style="font-size: 16px;white-space: normal;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important;"><section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="padding-right: 20px;padding-left: 20px;max-width: 100%;box-sizing: border-box;line-height: 0.8;word-wrap: break-word !important;"><p style="max-width: 100%;box-sizing: border-box;min-height: 1em;text-align: center;word-wrap: break-word !important;"><br/></p></section></section></section></section><section style="font-size: 16px;white-space: normal;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important;"><section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>接上篇（参见 <a data-itemshowtype="0" data-linktype="2" href="http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&amp;mid=2650025194&amp;idx=1&amp;sn=1d5822fae1235a1cdce5fbfcc7c43bdd&amp;chksm=f032adcbc74524dd2579d0eed7a2ac75bc4c7a2172f1e32dd9dc1fedb62667ed0c43b050365e&amp;scene=21#wechat_redirect" tab="innerlink" target="_blank" textvalue="先实现自己的一个小需求">先实现自己的一个小需求</a>），简单概括一下：省去从书单文章中手动 Copy-Paste 的动作，查看豆瓣评价，查看 Kindle Unlimited 中是否有相应的版本。<br/></p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>今天简单介绍一下具体如何操作。用到的还是 <a data-itemshowtype="0" data-linktype="2" href="http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&amp;mid=2650023988&amp;idx=1&amp;sn=8933a9a196cf8adf058832d5a6bbf4c4&amp;chksm=f032a915c7452003db1cd83d9f244f86d5ad8b060b0da47b3bd76a246530e75a032734fbaf7c&amp;scene=21#wechat_redirect" tab="innerlink" target="_blank" textvalue="如何用 Python 写一个最简单的爬虫">如何用 Python 写一个最简单的爬虫</a> 中的老朋友 Python 的 Beautifulsoup4 库（本文不再介绍如何使用 BS4）</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>在开始之前，我们回顾一下步骤：</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-right: 3em;margin-bottom: 1.5em;margin-left: 1.5em;padding-left: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>从文章中爬取书名：以《》为关键词，用到「正则表达式」知识</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>找到豆瓣和 Kindle Unlimited 上该书的搜索页面：以拼接 URL 的方式实现</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>将结果生成一个 HTML 页面：生成 Excel 文件作为知识拓展。</p></li></ol><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>可以以这篇为例：<a data-itemshowtype="0" data-linktype="2" href="http://mp.weixin.qq.com/s?__biz=MzAxMTAzNDM2OQ==&amp;mid=2657097752&amp;idx=1&amp;sn=6e01f7f5e7b08a8529e78445902bcf02&amp;chksm=80d3f276b7a47b608bacd8af7a6b35b0094eae897d79634990f1be6f1ce75b5309ecf7bc1447&amp;scene=21#wechat_redirect" tab="innerlink" target="_blank" textvalue="这100本重磅好书，2月免费读！（内有福利）">这100本重磅好书，2月免费读！（内有福利）</a></p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>首先我们定义一个 List，用来保存所有书名：</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;">lst_book <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> []</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>抓取书名的核心代码（网页全文用正则表达式匹配书名号）</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;">lst_og_tx <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> soup.find_all(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">recursive</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">True</span>,<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">text</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>re.compile(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'《(.*?)》'</span>))</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>考虑到书名号括起来的不一定是书籍，所以我们需要把原文内容保留，供人工作为参考。这里需要注意的是「1对多」的关系，因为书名已经去重，那书名是 1，但可能有多段原文中提到同一本书，我们都需要保留下来。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>可以用 Key-Value 的方式建立一个「书名-&gt;N条原文 List」的匹配关系。我们这里采用最原始的方法，存两个 List，一个 List 用来存放未去重的书名清单，另一个用来存放获取的原文内容，一对一比例地存放，比如这段原文中出现了3个书名，那么在原文 List 里我们就存放三次。</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;"><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;"># lst_book_duplicate 用来存放未去重的书名数组；<br/></span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;"># lst_og 用来存放原文内容<br/></span><br/><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">for</span> p <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">in</span> lst_og_tx:<br/>    p1 <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> re.compile(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'《(.*?)》'</span>)<br/>    p2 <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> p1.findall(p)<br/>    lst_book_duplicate.extend(p2)<br/>    <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">for</span> i <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">in</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">range</span>(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">len</span>(p2)):<br/>        lst_og.append(p)</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>取到的书名 List 需要做一个去重的操作（注意需要保持原有的排序顺序）</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;"><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">def</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">_sort_list</span>(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">lst</span>):<br/>    new_lst <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> []<br/>    new_lst <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">list</span>(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">set</span>(arr))<br/>    new_lst.sort(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">key</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>lst.index)<br/>    <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">return</span> new_lst<br/><br/>lst_book <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> _sort_list(lst_book_duplicate)</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>书名有了，接下来就是第二步拼接 URL 了，因为数据我还有其他用途，所以先统一转换成 JSON 格式。</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;"><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">def</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">_lst_to_json</span>(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">lst</span>,<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">lst_d</span>,<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">lst_o</span>):<br/>    new_lst<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>[]<br/>    <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">for</span> tmp <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">in</span> lst:<br/>        obj<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>{}<br/>        obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'序号'</span>]<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>lst.index(tmp)<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">1</span><br/>        obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'书名'</span>]<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span>tmp<br/>        <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">#用 favicon 显示比较醒目一点，也可以用文字代替<br/></span>        obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'豆瓣'</span>] <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'&lt;a href="'</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>db_query_url<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>tmp<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'"&gt;&lt;img src="https://www.douban.com/favicon.ico" height="30px" /&gt;&lt;/a&gt;'</span><br/>        obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'KU'</span>] <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'&lt;a href="'</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>ku_query_url<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>tmp<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'"&gt;&lt;img src="https://www.amazon.cn/favicon.ico" height="30px" /&gt;&lt;/a&gt;'</span><br/>        obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'京东'</span>] <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'&lt;a href="'</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>jd_query_url<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span>tmp<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'"&gt;&lt;img src="https://www.jd.com/favicon.ico" height="30px" /&gt;&lt;/a&gt;'</span><br/>       obj[<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'原文'</span>] <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> lst_o[lst_d.index(tmp)]<br/>        <br/>    new_lst.append(obj)<br/>    json_data <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> json.dumps(new_lst, <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">ensure_ascii</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">False</span>)<br/>    <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">return</span> json_data<br/><br/>_lst_to_json(lst_book,lst_book_duplicate,lst_og)</code></pre><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">Question 1：豆瓣、Kindle Unlimited、京东，搜索某本书的 URL 你能找出来吗？<sup style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">1</sup></p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>接下来，就是最后一步了，生成我们想要的 HTML 文件，格式如下：</p><figure style='white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;width: 700px;text-align: center;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'><img data-ratio="0.7221418234442837" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv1kR9M6tRK9ZfhBxu9SlK7lZ8O7VS2wYIiayR23hFaSysmTtvMJeV3ia205Gibx9UZknib1HvS53nRfng/640?wx_fmt=png" data-type="png" data-w="691" src="https://cloud.huahuoding.com/images/2021/02/06/202102064259B2.png" style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;width: 423px;height: 305px;"/><figcaption style="-webkit-font-smoothing: antialiased;font-size: 0.75em;padding: 0.5em 2em;margin-bottom: 2em;text-rendering: optimizeLegibility !important;">图片来自截图</figcaption></figure><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>我们可以用 HTML 语法， 手工生成 Table 标签。这里有个讨巧的地方，前面我们已经有了一个 JSON 文件，那么也利用 Python 的一个第三方库来轻松实现：</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;">html_content <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> json2html.convert(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">json</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span> json_data)</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>但需要注意的是，一些特殊字符，比如 &lt; &gt; / “ 会被转义掉，需要再转回来。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>最后，我们把生成好的 HTML 内容保存到文件：</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;"><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">with</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">open</span>(d_tool._genRandomStr(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">6</span>)<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">+</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">".html"</span>, <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">"wb"</span>) <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">as</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">file</span>: <br/>    <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">file</span>.write(<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">bytes</span>(html_content,<span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">encoding</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">=</span><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">'utf-8'</span>))</code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>这样，一个可以快速定位到豆瓣和 KU 的书单就生成好了，是不是很简单？本身需求也很简单，只是替代手工 Copy-Paste，如果还需要自动去标记豆瓣想读，涉及到登录等一系列的操作，后面有机会再聊。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>总结一下，通过这样一个小例子，我们学到了 Python 的哪些知识点：</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-right: 3em;margin-bottom: 1.5em;margin-left: 1.5em;padding-left: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>BeautifulSoup4 中如何使用正则表达式</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>List 去重并保留原有顺序</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>List 转 JSON</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>JSONArray 转 HTML Table</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>写入文件</p></li></ol><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>用到的 Python 库：</p><pre style='-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;font-stretch: normal;font-size: 18px;font-family: Menlo, Consolas, "DejaVu Sans Mono", "Courier New", "andale mono", "lucida console", monospace;line-height: 1.5;text-align: left;overflow-x: scroll;color: rgb(211, 189, 126);background-color: rgb(32, 32, 32);padding: 10pt 15pt;border-top-left-radius: 3px;border-top-right-radius: 3px;border-bottom-right-radius: 3px;border-bottom-left-radius: 3px;text-rendering: optimizeLegibility !important;'><code style="-webkit-font-smoothing: antialiased;font-stretch: normal;font-size: 16.200000762939453px;font-family: Menlo, monospace;line-height: 1.5;text-rendering: optimizeLegibility !important;"><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">from</span> bs4 <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">import</span> BeautifulSoup<br/><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">import</span> requests<br/><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">import</span> re<br/><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">import</span> json<br/><span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">from</span> json2html <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">import</span> <span style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">*</span></code></pre><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>一切需求，只有当真正开始动手，你才会意识到，这个需求究竟是大还是小，复杂还是简单，做的过程中也可能衍生出其他需求，变成 冬日里的一次 Yak Shaving 类似的情境。对于初学者尤其明显，当经验丰富之后，评估才会比较准确。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>所以，对于「实现一个功能」这件事，不要「掉以轻心」，但也不要「闻风丧胆」，尝试用一种探索的心态去实现一个实际的需求就好。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 18px;text-rendering: optimizeLegibility !important;'>人生苦短，快学 Python ( ̀⌄ ́)</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 3em;margin-right: 3em;margin-bottom: 1.5em;padding-left: 1.5em;font-size: 0.75em;padding-top: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>db_<span style="-webkit-font-smoothing: antialiased;font-style: italic;text-rendering: optimizeLegibility !important;">query_</span>url='https://www.douban.com/search?cat=1001&amp;q='</p><p style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">ku_<span style="-webkit-font-smoothing: antialiased;font-style: italic;text-rendering: optimizeLegibility !important;">query_</span>url='https://www.amazon.cn/s?i=digital-text&amp;node=1337022071&amp;k='</p><p style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">jd_<span style="-webkit-font-smoothing: antialiased;font-style: italic;text-rendering: optimizeLegibility !important;">query_</span>url='https://search.jd.com/Search?stock=1&amp;keyword=' ↩</p></li></ol><p style="max-width: 100%;box-sizing: border-box;min-height: 1em;margin-left: 0px;margin-right: 0px;word-wrap: break-word !important;"><span style="max-width: 100%;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"></span></p><section style="margin-bottom: 16px;padding: 8px;font-family: inherit;border-width: 1px;border-style: solid;border-color: rgb(226, 226, 226);box-shadow: rgb(226, 226, 226) 0px 16px 1px -13px;font-size: 1.5em;line-height: 1;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style='margin-bottom: 1em;width: 4em;height: 4em;float: left;border-top-left-radius: 50%;border-top-right-radius: 50%;border-bottom-right-radius: 50%;border-bottom-left-radius: 50%;background-image: url("https://cloud.huahuoding.com/images/2021/02/06/202102062L27kR.jpeg");background-size: cover;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;background-position: 50% 50%;background-repeat: no-repeat no-repeat;'><br/></section><section style="text-align: right;float: right;display: inline;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">撒欢吧</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">谈理想</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">聊人生</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">讲故事</section></section><section style="margin-right: 16px;display: inline-block;vertical-align: top;width: 1.1em;line-height: 1.2;font-size: 0.7em;font-family: inherit;text-decoration: inherit;color: rgb(255, 255, 255);border-color: rgb(249, 110, 87);background-color: rgb(95, 156, 239);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">相对论</section></section><section style="display: inline-block;vertical-align: top;width: 1.2em;line-height: 1em;font-family: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section></section><section style="clear: both;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">微信号：huahuoding</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">不折腾不人生</section></section></section></section></section></section></section></section>
</div>
<script nonce="1970122610" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    
                </script>
<div id="js_sponsor_ad_area"></div>
<div class="read-more__area" id="js_more_read_area" style="display:none;">
</div>
<div class="reward_area tc reward_area_primary reward_area_carry_whisper" id="js_reward_area" style="display:none;">
<div class="reward-avatar" id="js_reward_avatar" style="display: none;">
<img aria-labelledby="js_reward_author" id="js_reward_author_head" role="link" src="" title="作者"/>
</div>
<div aria-hidden="true" class="reward-author" id="js_reward_author" style="display: none;">花火田丁</div>
<p class="reward_tips js_reward_wording" role="option">艺术源于生活</p>
<p class="reward_button_wrp">
<span class="reward_pop_panel" id="js_author_reward_qrcode">
<img alt="赞赏二维码" id="js_author_reward_qrcode_img" src=""/>
<strong>微信扫一扫赞赏作者</strong>
</span>
<a class="reward_button weui-btn js_wx_tap_highlight" href="##" id="js_reward_link" role="button"><i class="icon_reward"></i><span id="js_reward_link_text">赞赏</span></a>
</p>
<div class="reward_whisper_wrp" id="js_reward_whisper" style="display: none;">
<div class="reward_whisper_word">已喜欢，<a class="reward_whisper_link" href="javascript:;" id="js_show_whisper_dialog">对作者说句悄悄话</a></div>
</div>
<div id="js_reward_whisper_dialog" style="display: none;">
<div class="like_comment_primary_wrp editing">
<div class="like_comment_primary_inner">
<div class="like_comment_primary_hd">
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_cancel" id="js_hide_whisper_dialog">
            取消<i class="weui-icon-close-thin"></i>
</button>
</div>
<h4 class="like_comment_primary_title">发送给作者</h4>
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_btn" disabled="disabled" id="js_whisper_send">发送</button>
</div>
</div>
<div class="like_comment_primary_bd">
<textarea class="like_comment_textarea weui-textarea" id="js_whisper_text" placeholder="说句悄悄话"></textarea>
</div>
<span class="like_comment_msg" id="js_whisper_msg" style="visibility: hidden;">最多40字，当前共<span id="js_whisper_current_cnt"></span>字</span>
</div>
</div>
<div class="like_comment_primary_mask" id="js_whisper_dialog_mask"></div>
</div>
<div class="reward_area_inner" id="js_reward_inner" style="display:none;">
<p class="weui-loadmore weui-loadmore_line reward_user_tips weui-loadmore_default" id="js_reward_total_parent">
<span class="weui-loadmore__tips">
<a aria-labelledby="js_reward_total js_reward_total_text" class="js_wx_tap_highlight wx_tap_link" href="javascript:;" id="js_reward_total"></a> <span aria-hidden="true" id="js_reward_total_text">人赞赏</span>
</span>
</p>
<div aria-hidden="true" class="reward_user_list" id="js_reward_list"></div>
<div aria-hidden="true" class="simple_pagination" id="js_reward_pagination" style="display: none;">
<button class="btn_sp_prev js_reward_pagination_prev" disabled="">上一页</button>
<span class="sp_page_num_area">
<a class="sp_page_current js_reward_pagination_curpage" href="javascript:;">1</a>/<span class="sp_page_num js_reward_pagination_totalpage">3</span>
</span>
<button class="btn_sp_next js_reward_pagination_next">下一页</button>
</div>
</div>
</div>
<div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
<p aria-hidden="true" class="tips_global" id="js_a11y_reward_qr_title">长按二维码向我转账</p>
<p aria-describedby="js_a11y_reward_qr_tips " aria-labelledby="js_a11y_reward_qr_word js_a11y_comma js_a11y_reward_qr_title js_a11y_reward_qr_money" class="reward_tips" id="js_a11y_reward_qr_word" role="option">艺术源于生活</p>
<span class="reward_qrcode_img_wrp"><img alt="赞赏二维码" class="reward_qrcode_img" id="js_reward_qrcode_img"/></span>
<p aria-hidden="true" class="tips_global" id="js_a11y_reward_qr_tips">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
</div>
</div>