---
layout: post
status: publish
published: true
title: '喂，你的声音里有表情'
excerpt: '由微信语音功能引发的一个小科普'
author:
  display_name: huahuoding
  login: huahuoding
  email: dinghuahuo@gmail.com
  url: ''
featured-image: 'https://cloud.huahuoding.com/images/2020/03/08/20200308c6ZAm7.jpeg'
featured-image-alt: '喂，你的声音里有表情'
wx_url: 'http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&mid=2650024737&idx=1&sn=8554a563e43fd1461b5c888a2c84bff7&chksm=f032aa00c745231662a52e7ec7dbcde762efd4c199130f46e62b7b50b0bbdb6b9aa9fa0bf8a3#rd'
date: '2020-03-08 23:35:08 +0800'
date_gmt: '2020-03-08 23:35:08 +0800'
categories:
- 花火田丁
tags: []
comments: []
---

<div class="rich_media_wrp" id="img-content">
<h2 class="rich_media_title" id="activity-name">
                    
                    
                    
喂，你的声音里有表情
                </h2>
<div class="rich_media_meta_list" id="meta_content">
<span class="rich_media_meta icon_appmsg_tag appmsg_title_tag" id="copyright_logo">原创</span>
<span class="rich_media_meta rich_media_meta_text">
<span class="rich_media_meta_link" datacanreward="0" datarewardsn="" datatimestamp="" id="js_author_name">花火田丁</span>
</span>
<span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
<a href="{{page.wx_url}}" id="js_name">
                        花火田丁                      </a>
<div class="profile_container" id="js_profile_qrcode" style="display:none;">
<div class="profile_inner">
<strong class="profile_nickname">花火田丁</strong>
<img alt="" class="profile_avatar" id="js_profile_qrcode_img" src=""/>
<p class="profile_meta">
<label class="profile_meta_label">微信号</label>
<span class="profile_meta_value">huahuoding</span>
</p>
<p class="profile_meta">
<label class="profile_meta_label">功能介绍</label>
<span class="profile_meta_value">对与错，是与非，下一秒钟你又在哪里？这里有一切关于「relativity」的故事</span>
</p>
</div>
<span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
<i class="profile_arrow arrow_out"></i>
<i class="profile_arrow arrow_in"></i>
</span>
</div>
</span>
<em class="rich_media_meta rich_media_meta_text" id="publish_time">{{page.date}}</em>
</div>

<div class="rich_media_content" id="js_content" style="visibility: visible;">
<section style="white-space: normal;"><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><section><qqmusic albumid="003HZWMB1M36xb" albumurl="https://y.gtimg.cn/music/photo_new/T002R68x68M000003HZWMB1M36xb.jpg" audiourl="http://isure.stream.qqmusic.qq.com/C200000QYLue2WtrV6.m4a?guid=2000001731&amp;vkey=03195B6EE0763C8AC7BC0AE89AB382A8D31A901CA0D29A756266740C81656B5E436D454AB2D46FB3A35302B0EED32A09509C04705919683B&amp;uin=&amp;fromtag=50" class="js_editor_qqmusic qqmusic_iframe js_uneditable custom_select_card" data-pluginname="insertaudio" jumpurlkey="" mid="000ImFg007VHpY" music_name="小松树" musicid="200028521" musictype="1" otherid="000ImFg007VHpY" play_length="138" singer="小蓓蕾组合 - 童歌经典 4" src="/cgi-bin/readtemplate?t=tmpl/qqmusic_tmpl&amp;singer=%E5%B0%8F%E8%93%93%E8%95%BE%E7%BB%84%E5%90%88%20-%20%E7%AB%A5%E6%AD%8C%E7%BB%8F%E5%85%B8%204&amp;music_name=%E5%B0%8F%E6%9D%BE%E6%A0%91&amp;albumurl=https%3A%2F%2Fy.gtimg.cn%2Fmusic%2Fphoto_new%2FT002R68x68M000003HZWMB1M36xb.jpg&amp;musictype=1"></qqmusic></section><p style="text-align: center;"><img class="rich_pages" data-ratio="1.7786666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0DqIA1Zib3DbXBf3giamp2aI3htaDuS3bDO1NibWC6OLKmPib9ftQje4UtjwAiaVQmCahe90OUjLOI9OQ/640?wx_fmt=png" data-type="png" data-w="750" src="https://cloud.huahuoding.com/images/2020/03/08/20200308qT0ZkE.png" style=""/></p><p style="text-indent: 0em;"><span style="color: rgb(136, 136, 136);text-indent: 0em;">题图来自于NextDay</span><br/><span style="color: rgb(136, 136, 136);text-indent: 0em;"></span></p></section></section></section></section></section></section></section></section><section style="font-size: 16px;white-space: normal;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important;"><section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="padding-right: 20px;padding-left: 20px;max-width: 100%;box-sizing: border-box;line-height: 0.8;word-wrap: break-word !important;"><p style="max-width: 100%;box-sizing: border-box;min-height: 1em;text-align: center;word-wrap: break-word !important;"><br/></p></section></section></section></section><section style="font-size: 16px;white-space: normal;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important;"><section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>微信语音这个让很多人既爱又恨（无奈）的功能，我大概是属于后者，因为很多时候不方便直接听语音，当然对方可能恰好相反，很多时候腾不出手打字或者打字比较麻烦。那么，就各退一步，合理范围内尽可能互相理解吧。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>基本上只有跟还不能认全字的小朋友或者手上实在没空又急需回复的时候，我才会发语音。鉴于这个原因，对于这个功能本身，至今的印象仅仅停留在「按住说话，松开发送」这个级别，直到今天，后知后觉，才发现了两个有趣的“新增”功能，也不知何时新增的。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><strong style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">功能一：语音转出的文字带表情</strong></p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>起因是跟朋友聊天，发了个语音过来，习惯性地转换成了文字，一转换有趣的事情来了，文字中「无语」后面加了一个气愤的表情，于是我又尝试了「不高兴」，得到的结果是这样的：</p><figure style='white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;width: 700px;text-align: left;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><img data-ratio="0.8354066985645933" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0DqIA1Zib3DbXBf3giamp2aI1NMAuHbTIuHycpAue8Gb7snIndVKHcH2OcibeuxeRmH5CTxgoyKdMbg/640?wx_fmt=png" data-type="png" data-w="1045" src="https://cloud.huahuoding.com/images/2020/03/08/20200308Qafo4i.png" style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;width: 309px;height: 258px;"/></figure><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>在起初看到「无语」和「无语<img data-ratio="1" data-src="https://res.wx.qq.com/mpres/htmledition/images/icon/common/emotion_panel/smiley/smiley_11.png" data-w="20" src="https://res.wx.qq.com/mpres/htmledition/images/icon/common/emotion_panel/smiley/smiley_11.png" style="display:inline-block;width:20px;vertical-align:text-bottom;"/>」表情的时候，凭借学过的一点数据挖掘的知识，我第一时间想到的是「文本情感分析」。</p><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">文本情感分析（也称为意见挖掘）是指用自然语言处理、文本挖掘以及计算机语言学等方法来识别和提取原素材中的主观信息。</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">通常来说，情感分析的目的是为了找出说话者/作者在某些话题上或者针对一个文本两极的观点的态度。这个态度或许是他或她的个人判断或是评估，也许是他当时的情感状态（就是说，作者在做出这个言论时的情绪状态），或是作者有意向的情感交流（就是作者想要读者所体验的情绪）。</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">摘自 维基百科</p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>情感分析可以用在哪呢？</p><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">最常见的是用于评论的情感倾向分析，比如商品评价、酒店入住评价等等，面对海量的用户评论数据时，靠纯人工的方式几乎不可能完成，所以我们需要借助计算机的力量来实现。但目前还做不到完全依赖计算机，计算机真是帮我们把一些预处理和预分类做掉，必要的时候还是需要人工审核。</p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>目前情感分析主要有两种方法：</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-right: 3em;margin-bottom: 1.5em;margin-left: 1.5em;padding-left: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>基于情感词典，是指根据已构建的情感词典，抽取待分析文本的情感词，然后计算其情感倾向。</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>基于机器学习的情感分析，是指选取情感词作为特征词，将待分析文本向量化，利用分类器（LR、SVM等）进行分类。</p></li></ol><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>基于词典的方法相对比较简单，也容易实现，我们先从这个说起。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>情感词典一般主要包括：情感词和程度词。用户用情感词表达自己的态度，比如：喜欢、讨厌等；而用户用程度词表达强弱程度，比如：非常，一般等。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>看上去似乎不难，网上也可以找到一些开源的词典，当然也可以自己根据算法去生成一个。我们来看个例子，来自大连理工大学信息检索研究室的中文情感词汇本体<sup style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">1</sup></p><figure style='white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;width: 700px;text-align: left;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><img data-ratio="0.6389496717724289" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0DqIA1Zib3DbXBf3giamp2aII8z2omYTO0XbZKH7zI9dX4FlLAUIB2icnPDoGwQWNzQ5Qay1QiaVBZgA/640?wx_fmt=png" data-type="png" data-w="1371" src="https://cloud.huahuoding.com/images/2020/03/08/20200308fP78jJ.png" style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;width: 459px;height: 293px;"/><figcaption style="-webkit-font-smoothing: antialiased;font-size: 0.75em;padding: 0.5em 2em;margin-bottom: 2em;text-rendering: optimizeLegibility !important;">图片来自网络截图，版权归原作者所有</figcaption></figure><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>着重看一下「情感分类」「强度」「极性」这三列。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>情感分类：按照论文《情感词汇本体的构造》所述，情感分为7大类21小类。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>强度：分为1,3,5,7,9五档，9表示强度最大，1为强度最小。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>极性：每个词在每一类情感下都对应了一个极性。其中，0代表中性，1代表褒义，2代表贬义，3代表兼有褒贬两性。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>注：褒贬标注时，通过词本身和情感共同确定，所以有些情感在一些词中可能极性1，而其他的词中有可能极性为0。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>比如「责备」这个词的构造就是：</p><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">情感分类：18 贬责(NN) 呆板、虚荣、杂乱无章、心狠手辣</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">强度：5，位于第三档</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">极性：2，贬义</p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>完成这一层转换之后，计算机就会知道「责备」是个强度为5的负面词。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>一句话是由多个词语组成，如果想要知道一句话的情感倾向，很自然的，我们会想到把句子拆分成若干个词语，通过词典我们可以知道每个词语的属性，那么把这句话里各个词语的属性通过某种算法进行计算，是不是就可以得出这句话的情感倾向了呢？</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>答案是肯定的。简单来说，基于词典的情感分析的一般流程：</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-right: 3em;margin-bottom: 1.5em;margin-left: 1.5em;padding-left: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>构建/下载情感词典</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>对文本进行分词</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>将分词结果匹配情感词典</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>根据评分和反转极致，通过合适的算法，计算出文本的情感得分。</p></li></ol><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>比如，我们取一段酒店入住评价来举例子。</p><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">原文：前台楼层服务员不错，房间安静、整洁，唯一卫生间地漏设计不好，导致少量积水。</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">分词结果：前台 楼层 服务员 很 不错 房间 安静 整洁 唯一 卫生间 地漏 设计 不好 导致 少量 积水</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">匹配词典：</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">正向匹配：很，不错，安静，整洁</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">负向匹配：不好，积水</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">情感得分：4-2=2</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">来自 掘金 《浅谈如何做情感分析》</p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>当然，这里只是用简单的评分加总举例，考虑到中文的博大精深，实际上的算法比这要复杂。但经过这样的批量自动化的筛选，至少可以得出一个大概的评价倾向范围，省去了不少人工。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>我们继续了解一下第二种方法「基于机器学习的情感分析」</p><blockquote style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-right: 1.5em;margin-bottom: 1.5em;padding-left: 1.5em;color: rgb(102, 102, 102);border-left-width: 4px;border-left-color: rgb(153, 153, 153);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">通过算法模型获取特征词，形成文本和词的矩阵，再利用机器学习/深度学习等方法进行分类。分类效果取决于训练文本的选择以及正确的情感标注。</p><p style="-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;text-rendering: optimizeLegibility !important;">来自 华天情 文本情感分析的学习笔记 知乎</p></blockquote><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>一般流程是：</p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-right: 3em;margin-bottom: 1.5em;margin-left: 1.5em;padding-left: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>选一部分语料，标记出情感分类，正向标注为1，负向标注为0，分成训练数据和测试数据。</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>选取文本中的「特征词」，比如商品的描述词（简约、时尚）等等，将词转化成向量，形成词的矩阵。</p></li><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>使用分类器模型（LR、SVM、NB）对训练数据进行学习，得到模型后，用测试数据进行预测，选取效果最优的模型。</p></li></ol><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>这个不仅仅是「基于机器学习的情感分析」的流程，基本上涉及「机器学习」的都离不开这几个步骤，机器学习需要一定的数学基础，涉及到很多公式的演算，这里就不做展开了，但如果想探究下机器学习的领域，「文本情感分析」倒是个不错的入门训练。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>到这里，如何做情感分析，各位应该有个大致的概念了，也没有那么玄乎对吧？机器的世界就是这样，设定好了规则，它就按照规则有秩序地执行。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>那么我们假设，在微信里，语音首先被转成了文字，然后通过「情感分析」得出文字的情感倾向，再根据情感倾向去判断添加何种表情。似乎是行得通的一条路。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>但我又做了另外一个测试，情况似乎不是这样：</p><figure style='white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;width: 700px;text-align: left;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><img data-ratio="0.8225650916104147" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0DqIA1Zib3DbXBf3giamp2aIKYW2ib3qflTj6VnynS5rPdvnzPJicbIw9Gia8GkFq3ByZ4j9vgmuT0kicg/640?wx_fmt=png" data-type="png" data-w="1037" src="https://cloud.huahuoding.com/images/2020/03/08/20200308d71k5Q.png" style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;width: 306px;height: 252px;"/><figcaption style="-webkit-font-smoothing: antialiased;font-size: 0.75em;padding: 0.5em 2em;margin-bottom: 2em;text-rendering: optimizeLegibility !important;">图片来自截图，版权归原作者所有</figcaption></figure><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>为什么，第二个「烦死了」没有表情呢？说下背景，在我说第二个「烦死了」的时候，我几乎是一个字一个字往外蹦的，相比第一个真的有那么一点点「烦死了」的情绪，第二个的语气和语调相对比较平和了。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>这样的例子还有很多，比如，请脑补一下，撒娇式的「讨厌」和厌恶式的「讨厌」，能一样吗？对计算机来说，文本显示的都是「讨厌」，打分一样，它要如何分辨？</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>你一定想到了，对，就是「语调」，请再回放一下撒娇式的「讨厌」和厌恶式的「讨厌」，语调一样吗？</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>其实不止「语调」，包括「语速」「强度」「基频」都与人的情绪有关系。只要有这些可以量化的指标，那么对于计算机来说，就是有章可循，可以完成的自动化工作。感兴趣的可以搜索「语音情感识别」了解更多。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>综上，我的猜想是微信用了文本+语音情感分析相结合的方法。如有知情的微信研发的小伙伴，欢迎交流～</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><strong style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">功能二：语音直接转文字发送</strong></p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>用惯了讯飞输入法的朋友对这种功能一定很熟悉，说一段语音自动转成文字发送出去，省去了打字的麻烦，同时又不给对方带来困扰。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>现在微信也有这功能啦，右边「转文字」的就是，直接发出去的就是已经识别好的文本。</p><figure style='white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 1.5em;margin-bottom: 1.5em;width: 700px;text-align: left;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'><img data-ratio="1.7777777777777777" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0DqIA1Zib3DbXBf3giamp2aIX6WKic3nica9gibcIIuYAc8eeaqY6Vr5lOIRnUibZypLkYmz0ibBxiaLw4hw/640?wx_fmt=png" data-type="png" data-w="1242" src="https://cloud.huahuoding.com/images/2020/03/08/202003089oZ298.png" style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;width: 318px;height: 565px;"/><figcaption style="-webkit-font-smoothing: antialiased;font-size: 0.75em;padding: 0.5em 2em;margin-bottom: 2em;text-rendering: optimizeLegibility !important;">图片来自微信截图，版权归原作者所有</figcaption></figure><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>发现这个功能，还是因为家里小小小朋友突然开始给我发大段文字，字里行间我“嗅”出了「自动转换」的味道，一试才发现是微信语音里就有的功能。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>微信语音这个功能对于整个微信的架构来说，可能是非常非常小的一部分，但产品团队在这个“小”功能上的细节打磨，让用户有了一种「小确幸」的体验。如今科技发达了，在未来，声音和视频一定会拥有更广阔的应用场景，拭目以待。</p><hr style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;border-right-width: 0px;border-left-width: 0px;border-top-style: solid;border-top-color: rgb(221, 221, 221);border-bottom-style: solid;border-bottom-color: rgb(255, 255, 255);margin-top: 4em;margin-bottom: 2em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'/><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>后记：</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>在意外发现了微信语音的这两个功能之后，想起在学校的时候做过一个「中文情感词分析」的课题项目，当中原理不是很复杂，加上在网上看到很多业外人士觉得「加表情」这个功能很神奇但又不知如何实现的，就想着来写一篇科普小文吧。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>原本以为可以如往常写文一般只需1-2小时，结果，这篇文章，差不多花了我三天的时间，当中大多数时间都在查阅资料，有很多太深的内容就没有放上来，整理好了，发现要把这件事说明白也并不是一件容易的事。</p><p style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-bottom: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;font-size: 20px;text-rendering: optimizeLegibility !important;'>所以说，研发评估工作量需要一定的 Buffer 是有道理的，有时候太过于自信，需时刻谨记我们随时都会碰到 Yak Saving，参见 <a data-itemshowtype="0" data-linktype="2" href="http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&amp;mid=2650024502&amp;idx=1&amp;sn=9c2149d6bce38a744bb7600d99b278c3&amp;chksm=f032ab17c74522013d7c1e5358b6b9d3c8472e6f78555f94ad5b004c07152950519a97567178&amp;scene=21#wechat_redirect" tab="innerlink" target="_blank" textvalue="冬日里的一次 Yak Saving">冬日里的一次 Yak Saving</a></p><ol class="list-paddingleft-2" style='text-align: start;white-space: normal;-webkit-font-smoothing: antialiased;margin-top: 3em;margin-right: 3em;margin-bottom: 1.5em;padding-left: 1.5em;font-size: 0.75em;padding-top: 1.5em;caret-color: rgba(0, 0, 0, 0.8);color: rgba(0, 0, 0, 0.8);font-family: Georgia, Cambria, "Times New Roman", Times, serif;text-rendering: optimizeLegibility !important;'><li style="-webkit-font-smoothing: antialiased;margin-bottom: 0.75em;margin-top: 0.75em;text-rendering: optimizeLegibility !important;"><p>中文情感词汇本体库 via 大连理工大学信息检索研究室</p><p style="-webkit-font-smoothing: antialiased;text-rendering: optimizeLegibility !important;">https://figshare.com/articles/___/6881282/1 ↩</p></li></ol><p><br/></p><section style="margin-bottom: 16px;padding: 8px;font-family: inherit;border-width: 1px;border-style: solid;border-color: rgb(226, 226, 226);box-shadow: rgb(226, 226, 226) 0px 16px 1px -13px;font-size: 1.5em;line-height: 1;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style='margin-bottom: 1em;width: 4em;height: 4em;float: left;border-top-left-radius: 50%;border-top-right-radius: 50%;border-bottom-right-radius: 50%;border-bottom-left-radius: 50%;background-image: url("https://cloud.huahuoding.com/images/2020/03/08/20200308ujvR0H.jpeg");background-size: cover;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;background-position: 50% 50%;background-repeat: no-repeat no-repeat;'><br/></section><section style="text-align: right;float: right;display: inline;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">撒欢吧</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">谈理想</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">聊人生</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">讲故事</section></section><section style="margin-right: 16px;display: inline-block;vertical-align: top;width: 1.1em;line-height: 1.2;font-size: 0.7em;font-family: inherit;text-decoration: inherit;color: rgb(255, 255, 255);border-color: rgb(249, 110, 87);background-color: rgb(95, 156, 239);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">相对论</section></section><section style="display: inline-block;vertical-align: top;width: 1.2em;line-height: 1em;font-family: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section></section><section style="clear: both;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">微信号：huahuoding</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">不折腾不人生</section></section></section></section></section></section></section></section>
</div>
<script nonce="1124006839" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx531a40.css";
                            head.appendChild(link);
                        }
                    })();
                </script>
<div id="js_sponsor_ad_area"></div>
<div class="read-more__area" id="js_more_read_area" style="display:none;">
</div>
<div class="reward_area tc reward_area_primary reward_area_carry_whisper" id="js_reward_area" style="display:none;">
<div class="reward-avatar" id="js_reward_avatar" style="display: none;">
<img alt="" id="js_reward_author_head" src=""/>
</div>
<div class="reward-author" id="js_reward_author" style="display: none;">花火田丁</div>
<p class="reward_tips js_reward_wording">艺术源于生活</p>
<p class="reward_button_wrp">
<span class="reward_pop_panel" id="js_author_reward_qrcode">
<img alt="赞赏二维码" id="js_author_reward_qrcode_img" src=""/>
<strong>微信扫一扫赞赏作者</strong>
</span>
<a class="reward_button weui-btn" href="##" id="js_reward_link"><span id="js_reward_link_text">赞赏</span></a>
</p>
<div class="reward_whisper_wrp" id="js_reward_whisper" style="display: none;">
<div class="reward_whisper_word">已喜欢，<a class="reward_whisper_link" href="javascript:;" id="js_show_whisper_dialog">对作者说句悄悄话</a></div>
</div>
<div id="js_reward_whisper_dialog" style="display: none;">
<div class="like_comment_primary_wrp editing">
<div class="like_comment_primary_inner">
<div class="like_comment_primary_hd">
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_cancel" id="js_hide_whisper_dialog">
            取消<i class="weui-icon-close-thin"></i>
</button>
</div>
<h4 class="like_comment_primary_title">发送给作者</h4>
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_btn" disabled="disabled" id="js_whisper_send">发送</button>
</div>
</div>
<div class="like_comment_primary_bd">
<textarea class="like_comment_textarea weui-textarea" id="js_whisper_text" placeholder="说句悄悄话"></textarea>
</div>
<span class="like_comment_msg" id="js_whisper_msg" style="visibility: hidden;">最多40字，当前共<span id="js_whisper_current_cnt"></span>字</span>
</div>
</div>
<div class="like_comment_primary_mask" id="js_whisper_dialog_mask"></div>
</div>
<div class="reward_area_inner" id="js_reward_inner" style="display:none;">
<p class="weui-loadmore weui-loadmore_line reward_user_tips" id="js_reward_total_parent">
<span class="weui-loadmore__tips">
<a href="javascript:;" id="js_reward_total"></a> <span id="js_reward_total_text">人赞赏</span>
</span>
</p>
<div class="reward_user_list" id="js_reward_list"></div>
<div class="simple_pagination" id="js_reward_pagination" style="display: none;">
<button class="btn_sp_prev js_reward_pagination_prev" disabled="">上一页</button>
<span class="sp_page_num_area">
<a class="sp_page_current js_reward_pagination_curpage" href="javascript:;">1</a>/<span class="sp_page_num js_reward_pagination_totalpage">3</span>
</span>
<button class="btn_sp_next js_reward_pagination_next">下一页</button>
</div>
</div>
</div>
<div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
<p class="tips_global">长按二维码向我转账</p>
<p class="reward_tips">艺术源于生活</p>
<span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" id="js_reward_qrcode_img"/></span>
<p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
</div>
</div>