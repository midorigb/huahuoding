---
layout: post
status: publish
published: true
title: '玩转 NFC 标签 + 智能家居控制'
excerpt: 'iPhone 7，8，X 也可以用'
author:
  display_name: huahuoding
  login: huahuoding
  email: dinghuahuo@gmail.com
  url: ''
featured-image: 'https://cloud.huahuoding.com/images/2021/03/19/20210319i443vW.jpeg'
featured-image-alt: '玩转 NFC 标签 + 智能家居控制'
wx_url: 'http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&mid=2650025273&idx=1&sn=bafc06f960d8a2894bfbca2d1a12d754&chksm=f032ac18c745250e9fd09e08de01c733d9130f649037a3e08b06fa23d0685b577019ceaef4d5#rd'
date: '2021-03-19 19:11:54 +0800'
date_gmt: '2021-03-19 19:11:54 +0800'
categories:
- 花火田丁
tags: []
comments: []
---

<div class="rich_media_wrp" id="img-content">
<h1 class="rich_media_title" id="activity-name">
                    
                    
                    
玩转 NFC 标签 + 智能家居控制
                </h1>
<div class="rich_media_meta_list" id="meta_content">
<span class="wx_tap_link js_wx_tap_highlight rich_media_meta icon_appmsg_tag appmsg_title_tag weui-wa-hotarea" id="copyright_logo">原创</span>
<span class="rich_media_meta rich_media_meta_text">
<span class="wx_tap_link js_wx_tap_highlight rich_media_meta_link weui-wa-hotarea" datacanreward="0" datarewardsn="" datatimestamp="" id="js_author_name" role="link">花火田丁</span>
</span>
<span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
<a class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" href="{{page.wx_url}}" id="js_name">
                        花火田丁                      </a>
<div aria-hidden="true" class="profile_container" id="js_profile_qrcode" style="display:none;">
<div class="profile_inner">
<strong class="profile_nickname">花火田丁</strong>
<img alt="" class="profile_avatar" id="js_profile_qrcode_img" src=""/>
<p class="profile_meta">
<label class="profile_meta_label">微信号</label>
<span class="profile_meta_value">huahuoding</span>
</p>
<p class="profile_meta">
<label class="profile_meta_label">功能介绍</label>
<span class="profile_meta_value">对与错，是与非，下一秒钟你又在哪里？这里有一切关于「relativity」的故事</span>
</p>
</div>
<span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
<i class="profile_arrow arrow_out"></i>
<i class="profile_arrow arrow_in"></i>
</span>
</div>
</span>
<em class="rich_media_meta rich_media_meta_text" id="publish_time">{{page.date}}</em>
</div>

<div class="rich_media_content" id="js_content" style="visibility: visible;">
<section style="white-space: normal;"><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><section><qqmusic albumid="002fiW9Z0KroM3" albumurl="https://y.gtimg.cn/music/photo_new/T002R68x68M000002fiW9Z0KroM3.jpg" audiourl="http://isure6.stream.qqmusic.qq.com/C2000032EflY2gL3Z5.m4a?guid=2000001731&amp;vkey=D3E8D0EEF174CDFD15B5456A513F026E4049B0743D353F98E4D441BFFAF0286217C2D9342E8747DBE85DFE8C8A50DB0B9E61BA19E91B207D&amp;uin=&amp;fromtag=50" class="js_editor_qqmusic qqmusic_iframe js_uneditable custom_select_card" data-pluginname="insertaudio" jumpurlkey="" mid="00455rxO0cR80u" music_name="时光机" musicid="4830231" musictype="1" otherid="00455rxO0cR80u" play_length="220" singer="五月天 - 时光机" src="/mp/readtemplate?t=app_editor/music&amp;singer=%E4%BA%94%E6%9C%88%E5%A4%A9%20-%20%E6%97%B6%E5%85%89%E6%9C%BA&amp;music_name=%E6%97%B6%E5%85%89%E6%9C%BA&amp;albumurl=https%3A%2F%2Fy.gtimg.cn%2Fmusic%2Fphoto_new%2FT002R68x68M000002fiW9Z0KroM3.jpg&amp;musictype=1"></qqmusic></section><p style="text-indent: 0em;"><br/></p><p style="text-indent: 0em;"><span style="caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">在 </span><a data-itemshowtype="0" data-linktype="2" href="http://mp.weixin.qq.com/s?__biz=MzIyMjEzMjMwMg==&amp;mid=2650025223&amp;idx=1&amp;sn=bacf4b6a01ab9101ec57a4c93d2f3466&amp;chksm=f032ac26c7452530f901a5104c6fec9daa233b9615000750175cfc39b673cad30f43e12d25e9&amp;scene=21#wechat_redirect" style="caret-color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;" tab="innerlink" target="_blank" textvalue="闲话智能家居">闲话智能家居</a><span style="caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);"> 里提到的 NFC 标签，安卓手机用户也许并不陌生，在 NFC 这件事上，苹果的动作的确比安卓要慢了点。</span><span style="caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">小米的碰碰贴、华为的WI-FI 贴等等，安卓用户已经玩得很溜了，而苹果从 iPhone 6 才开始支持 NFC，而且最初也只开放了 Apple Pay 和公交卡识别。</span></p><section style="text-indent: 0em;margin-top: 20px;"><span style="text-indent: 0em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">作为非业内人士，我也是后知后觉地在上次那场 Talk 里才知道「NFC 标签」的玩法。</span><span style="text-indent: 0em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">9.9包邮入手了6个NTAG213玩一玩。</span></section><p style="text-indent: 0em;margin-top: 20px;"><span style="text-indent: 0em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">本文主要是基于支持 NFC 的 iPhone + 「快捷指令 App」来实现，可以做什么呢？</span><span style="text-indent: 0em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">类似：</span><span style="text-indent: 0em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">iPhone 碰一下 NFC 标签关灯，碰一下进入勿扰模式，碰一下播放音乐，碰一下打电话，诸如此类。</span></p></section></section></section></section></section></section></section></section><section style="font-size: 16px;white-space: normal;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);word-wrap: break-word !important;"><section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;"><section><h3 style='white-space: normal;margin-top: 40px;margin-bottom: 2px;margin-left: -1.6px;padding: 1rem;text-align: center;font-family: BerninoSansOffc, "Bernono Sans", "Jaf Bernino Sans", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif;letter-spacing: -0.02em;font-size: 1.3em;line-height: 1.2;color: rgba(0, 0, 0, 0.44);'>背景介绍</h3><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><strong style="color: rgb(51, 51, 51);">关于「快捷指令/ Shortcuts App」</strong></p><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.8161290322580645" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCv1v2Za0BA4kx0uvLTWEGt5BylQNrq7YVbzKwnbsdq7OBLWiaKvu7qS7A/640?wx_fmt=png" data-type="png" data-w="1550" src="https://cloud.huahuoding.com/images/2021/03/19/20210319234jCd.png" style="border: none;width: 430px;height: 351px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-indent: 2em;'>图片来</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-indent: 2em;'>自 A</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-indent: 2em;'>pp Store 截图</span></figure><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/>iOS 自带的自动化操作 App，忘记是从哪个版本加入进来的，它的前身是付费 App —— Workflow，作为一个第三方能做到各种自动化算是很强大了，当然这事儿第一方自己来做更合适，于是它就被 Apple 收了，成了系统自带应用，也算是造福用户了。</p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">估计很多人都没点进去看过，就举几个官方自带的例子</section><ul class="list-paddingleft-2" style="white-space: normal;padding-left: 2em;margin-top: 1.2em;margin-bottom: 1.2em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>阅读模式 Reading Mode：打开勿扰模式、调成暗黑背景、自动播放喜爱的音乐、打开阅读 App</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>制作 PDF Making PDF：把网页上的内容转换成 PDF 格式的文件</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>拼图 Photo Grid：把选定的照片按照纵向、横向、网络的方式拼接成一张图片</p></li></ul><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/></p><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><strong style="color: rgb(51, 51, 51);">关于触发条件</strong></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">「触发条件」，如果你用过 ifttt，即， if 后面的那个判断条件（参见 如何用 ifttt 做一些自动化提醒），比如天气下雨了，我到了某个地方，到了某个特定的时间点，这类状态条件。当然还有更复杂的，比如某只股票到了什么价位，微博热搜中包含了什么关键词，等等，总结起来，就是「什么事情发生了」。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">NFC 触发条件是什么呢？这时候，NFC 标签就要出场了，在 iOS 的「快捷指令」里，NFC 触发条件，实则是指 iPhone 扫描到了某个 NFC 标签，iOS 并不关心标签内容是什么，只是「扫描到了某个 NFC 标签」这样一个动作即可，我们可以给标签命名，作为唯一标示，下一次再扫描的时候，就能认出来了。</section><blockquote style="white-space: normal;border-left-color: rgb(119, 119, 119);background-color: rgb(250, 250, 250);padding: 0em 1em;margin-top: 1.2em;margin-bottom: 1.2em;color: rgb(119, 119, 119);quotes: none;font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><p style="margin-block-start: 1em;margin-block-end: 1em;">“NFC”触发条件包含一个选项：</p><p style="margin-block-start: 1em;margin-block-end: 1em;">NFC 标签：扫描到近距离无线通讯标签时触发自动化。初次扫描到 NFC 标签后，您可以为其命名供日后引用。除了唯一标识符外，NFC 标签的内容会被忽略。</p><p style="margin-block-start: 1em;margin-block-end: 1em;">【注】并非所有设备都支持 NFC。</p></blockquote><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/></p><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><strong style="color: rgb(51, 51, 51);">iOS 对于 NFC 的支持情况</strong></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">从 NFC 触发条件的说明中，我们看到「并非所有设备都支持 NFC」</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">但 Apple 官网没有一目了然地显示各个机型对于 NFC 的支持情况，在第三方网站上找到了一张清单，是截止到 iOS 13发布时的支持情况：</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.5827751196172248" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvfaTXDUdrbeBjNmibhZmcs64nibeP7u83tXa1rapl4obiazX7LShzX8EZA/640?wx_fmt=png" data-type="png" data-w="1045" src="https://cloud.huahuoding.com/images/2021/03/19/202103192m6934.png" style="border: none;width: 444px;height: 259px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自gototags，版权归原作者所有</span></figure><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/>从表中可以看出，只有支持「Background NFC Tag Reading」（后台读取 NFC 标签）的机型才能在「快捷指令 Shortcuts App」用上「NFC 触发条件」，即 <strong style="color: rgb(51, 51, 51);">iPhone XS 及以上机型</strong>，不过 7 - X 的用户也别丧气，后面会介绍一个曲线救国的方法，不如 Shortcuts 那么方便，但也能用，其他机型可以绕行了。<br/></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">那什么是「后台读取 NFC 标签」呢？</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">为了了解更多细节，我找到了开发文档，对于 NFC 的支持是基于「Core NFC」框架实现。划重点，NDEF数据格式<sup>1</sup> ，所以一般推荐使用 <strong style="color: rgb(51, 51, 51);">NTAG21X<sup>2</sup></strong> 系列的芯片，因为它们已经预格式化了 NDEF 数据。</section><blockquote style="white-space: normal;border-left-color: rgb(119, 119, 119);background-color: rgb(250, 250, 250);padding: 0em 1em;margin-top: 1.2em;margin-bottom: 1.2em;color: rgb(119, 119, 119);quotes: none;font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><p style="margin-block-start: 1em;margin-block-end: 1em;">Core NFC</p><p style="margin-block-start: 1em;margin-block-end: 1em;">Detect NFC tags, read messages that contain <strong style="color: rgb(51, 51, 51);">NDEF</strong> data, and save data to writable tags.</p></blockquote><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">在文档的 Topic 下有两个内容：</section><ol class="list-paddingleft-2" style="white-space: normal;padding-left: 2em;margin-top: 1.2em;margin-bottom: 1.2em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>Building an NFC Tag-Reader App (开发一个读取 NFC 标签的 App)</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>Adding Support for Background Tag Reading (使之支持后台读取)</p></li></ol><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">第二个就是我们关心的「后台读取」了</section><blockquote style="white-space: normal;border-left-color: rgb(119, 119, 119);background-color: rgb(250, 250, 250);padding: 0em 1em;margin-top: 1.2em;margin-bottom: 1.2em;color: rgb(119, 119, 119);quotes: none;font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><p style="margin-block-start: 1em;margin-block-end: 1em;">Adding Support for Background Tag Reading</p><p style="margin-block-start: 1em;margin-block-end: 1em;">Allow users to scan NFC tags without an app using background tag reading.</p></blockquote><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">大白话就是不用打开 App，就可以扫描到 NFC 标签。想象一下用 Apple Pay 使用交通卡的场景就知道了，并不需要打开 Apple Pay 这个 App，就可以实现扫描和识别。这就是「快捷指令 + NFC」的核心所在了。 </section><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/></p><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><strong style="color: rgb(51, 51, 51);">关于 HomeKit （非必需）</strong></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">我们很多场景的设置不仅仅是局限于 iPhone 本身，更多的还会涉及到家居环境，比如阅读模式下，除了 iPhone 上的一系列设置，我们还希望房间的灯光变亮一点或者换个色调，那这时候就需要用到系统自带的「家庭 / Home App」<br/></section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">我们用最简单的开关灯来举个例子。前提是你要有一盏能够通过网络控制的智能灯，小米、Yeelight、飞利浦等等都可以。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">因为要在 iOS 上使用，这盏灯最好是支持 HomeKit，当然也可以通过小米等第三方应用去控制。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">打开「家庭 / Home App」，添加配件，会提示我们去扫描一个二维码，这个二维码通常在设备机身上可以找到。</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="1.1502835538752363" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvCfHxUFAKbCNmDRTgib4wdLxBeNN3CoqV7Pkf1IBBTIQSj2adScRXApQ/640?wx_fmt=png" data-type="png" data-w="1058" src="https://cloud.huahuoding.com/images/2021/03/19/202103190823Z6.png" style="border: none;width: 291px;height: 335px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自软</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>件</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>截图</span></figure><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/>【注】在扫描之前，如果家里开了双频的Wi-Fi，请确保 iPhone 连接的是 2.4GHz 的Wi-Fi（目前大多数智能家居设备还不支持 5G Wi-Fi）<br/></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">添加完成之后，我们就可以通过「家庭 App」去设定场景以及控制灯的色调和亮度。内置了一些场景，比如，「早上好」是开灯+亮度较低，「晚安」是关灯，你也可以自定义一个场景，比如，「学习」就是把灯开到最亮然后调整成柔和的色调。</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.6672064777327935" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvyArNE0szicE0iadg6EtRuG84Dx3jiaTba0J7aiazia3yQwXykLB9uBlbuyA/640?wx_fmt=png" data-type="png" data-w="1235" src="https://cloud.huahuoding.com/images/2021/03/19/20210319RQQ6Rw.png" style="border: none;width: 438px;height: 292px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自 App 截图</span></figure><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;"><br/>「家庭App」设置好了之后， 也可以通过「Siri」去控制，Siri 更方便一点，直接说「早上好」就可以设置成「早上好」的灯光场景，不用打开 App。但就像上次 Talk 里那位从事 IT 工作的智能家居发烧友所说，一直说话也是很困扰，语音控制是很方便，但是说多了也会觉得很繁琐，而且很多安静的场景下也不方便语音。<br/></section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">是时候让 NFC 标签出场了。比如我们要实现的就是手机去碰一下某个 NFC 标签，就自动设置成某个灯光场景/阅读模式，即碰一下标签，让 iPhone 自动执行某个预设好的快捷指令。碰一下打电话给某个人，碰一下切换成勿扰模式，都可以。</section><h3 style='white-space: normal;margin-top: 40px;margin-bottom: 2px;margin-left: -1.6px;padding: 1rem;text-align: center;font-family: BerninoSansOffc, "Bernono Sans", "Jaf Bernino Sans", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif;letter-spacing: -0.02em;font-size: 1.3em;line-height: 1.2;color: rgba(0, 0, 0, 0.44);'>开始玩吧</h3><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;">如果你想要一起玩，请先准备好以下条件：</p><ol class="list-paddingleft-2" style="white-space: normal;padding-left: 2em;margin-top: 1.2em;margin-bottom: 1.2em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>iPhone 7 以上机型</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>iOS 13 以上系统</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>装好「快捷指令」（Shortcuts）App</p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;"><p>NTAG213 标签 1 枚</p></li></ol><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.6385542168674698" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvLoPcbaVqvibF5qCFZI1JpWYcMkRjEGK5pCraR8veKCJQqwmVtARZcOA/640?wx_fmt=png" data-type="png" data-w="747" src="https://cloud.huahuoding.com/images/2021/03/19/202103193g50E7.png" style="border: none;width: 428px;height: 273px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自网络，版权归原作者</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>所有</span></figure><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><strong style="color: rgb(51, 51, 51);"><br/>iPhone XS 及以上用户</strong><br/></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">iPhone XS，XR，11，11Pro，12，12Pro，这些机型支持「后台扫描 NFC 标签」，所以一切都变得很简单，只需要准备好标签并打开「快捷指令 App」设置好就可以了，不需要额外安装第三方 App。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">网上的教程很多，用关键词「NFC 标签」+「快捷指令」或者「Shortcuts」即可。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">准备好一张 NTAG 标签，设置入口在这里：</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.47903726708074534" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvGTNa6XsqOfzZHJqJ6yWFicRmym0EUJEC7166Hww23QSHrJTkPeicegUQ/640?wx_fmt=png" data-type="png" data-w="2576" src="https://cloud.huahuoding.com/images/2021/03/19/202103190M8101.png" style="border: none;width: 435px;height: 208px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自少数派，版权归</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>原作者所有</span></figure><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><br/>【注】：少数派写过一篇付费阅读的文章，也可以搜了看看，不过了解了背景知识之后，快捷指令中的设置也并不复杂，付费部分不看也可以。<br/></p><p style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;margin-bottom: 25px;"><strong style="color: rgb(51, 51, 51);">iPhone 7，8，X</strong></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">关爱一下老机型的用户，而且网上的资料也比较少，本文正好做个记录。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">首先我们先要解决「扫描」的问题。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">iOS 14：打开控制中心，点击「NFC」按钮，然后把标签贴近 iPhone 顶部边缘处即可完成扫描。</section><figure style="margin: auto;white-space: normal;width: 700px;text-align: center;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-cropselx1="0" data-cropselx2="435" data-cropsely1="0" data-cropsely2="208" data-ratio="0.66625" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvzNU9UUliawnH15HXfibbWhJECNHUdEUvdYY5icCe8ibjg3fZQHkKDc1OUA/640?wx_fmt=png" data-type="png" data-w="800" src="https://cloud.huahuoding.com/images/2021/03/19/20210319rtgrm3.png" style="height: 233px;border: none;width: 350px;"/></figure><figure style="margin: auto;white-space: normal;width: 700px;text-align: center;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自网络，版权归</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>原作者所有</span></figure><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">iOS 13：需要借助第三方 App，这里推荐用 NXP 出品的 TagInfo，因为 NXP 本身是做 NFC 标签中的芯片的，而且 App 非常简洁+没有广告。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">解决了扫描的问题，因为没有「后台扫描 NFC 标签」的功能，所以没办法直接用「快捷指令 App」，我们只能通过自定义标签的内容来实现，即实现 —— 扫描标签读出内容，根据内容去执行快捷指令。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">关于写入，我们需要同样是 NXP 出品的另一个 App —— TagWriter</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">第一步，点击界面中间，并把 NFC 标签（以下简称 标签 A）靠近 iPhone 顶部边缘</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">第二步，识别后，点击底部右侧「Write New」</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">第三步（最关键），选择「Link」类型，自定义一个名称，选择「Custom URL」，「URL Data」处填写<strong style="color: rgb(51, 51, 51);"> shortcuts://run-shortcut?name=Study</strong>（其中 Study 是快捷指令 App 中某个快捷指令的名称）</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">【注】：这里用到了 iOS URL Scheme 的原理，在 iOS 系统中，App 的开发者可以自定义一个 URL Scheme，这个 URL Scheme 是注册到 iOS 系统的，当其他 App 想要打开第三方 App 的时候，只需要传入对应的 URL Scheme 就可以了，比如打开浏览器—— safari://</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">想了解更多 URL Scheme 的用法可以自行搜索，少数派也写过一篇<sup>3</sup></section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">最后一步，把标签 A 再次靠近 iPhone 顶部边缘（如果已经拿开了的话），点击「Save &amp; Write」，就写入成功了。</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.5644171779141104" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvbicTu5ia5u3YM0LojicAxIdFyM70pE4t5R2mxib3hTqcAQleq5NEfnxYLA/640?wx_fmt=png" data-type="png" data-w="1467" src="https://cloud.huahuoding.com/images/2021/03/19/20210319Hc8gdM.png" style="border: none;width: 441px;height: 249px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自 App</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'> 截图</span></figure><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;"><br/>接下来，就是验证我们想要实现的功能了。前面我写入的 Study 的快捷指令其实就是在背景介绍中提到的「通过家庭 App 设置场景为“学习”」这样一个动作，其他指令同理，名字写对就行。<br/></section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">好了，现在我们打开 TagInfo App，因为设置了默认「Scan &amp; Launch」选项，当打开 App 时，随即弹出了扫描 NFC 标签的提示。</section><h3 style='white-space: normal;margin-top: 40px;margin-bottom: 2px;margin-left: -1.6px;padding: 1rem;text-align: center;font-family: BerninoSansOffc, "Bernono Sans", "Jaf Bernino Sans", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif;letter-spacing: -0.02em;font-size: 1.3em;line-height: 1.2;color: rgba(0, 0, 0, 0.44);'>试一下吧</h3><p style="text-align: center;"><img class="rich_pages" data-ratio="1.7730496453900708" data-src="https://mmbiz.qpic.cn/mmbiz_gif/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvAFcvg2BMaCSy9khmh2Nhho0BHdPKmp2Xf0djtesQwXv9icz7B0r1row/640?wx_fmt=gif" data-type="gif" data-w="282" src="https://cloud.huahuoding.com/images/2021/03/19/20210319368h18.gif" style=""/></p><p style="text-align: center;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;caret-color: rgb(35, 43, 45);'>图片来自 App 截图</span></p><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">当我扫描标签 A 的时候，TagInfo 直接打开了「快捷指令 App」，仔细看的话，会看到「Study」指令右上角的图标飞快地变成了执行中，执行完成后，显示✅状态，而此时我房间里的灯成功地切换到了预设的「学习场景模式」—— 色调白+亮度100%。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">看到这里，你也许会有个疑问，折腾这么一大圈，又是打开 TagInfo App，又是扫描标签，直接进到「快捷指令 App」里去点一下「Study」这个指令，不是更快？</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">对！直接点更快，或者如果你愿意用语音，跟 Siri 说一下也很快。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">那我们为什么要这么大费周章呢？答案在背景部分已经说过了，为了不抛弃<strong style="color: rgb(51, 51, 51);"> iPhone 7，iPhone 8，iPhone X</strong>的用户😂，因为 XS 及以上机型，只需要设置好指令+扫描标签就可以一气呵成了，第三方 App 不存在的。</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">另外就是，我大胆地、毫无根据地猜测「后台读取 NFC 标签」也许是可以从 iOS 系统层面去控制的，也就是说，7 - X 这三款机型是不是有朝一日也能支持上？毕竟在 iOS 14 之前，这三款机型只能通过第三方 App 去扫描标签，而 iOS 14之后就支持从控制中心直接扫描了，那会不会，iOS 15 之类的，这三款机型也能后台读取了呢，毕竟，别浪费了已经内置的 NFC 硬件功能啊，不过，按照 iPhone 这几年对于老机型的态度，我也许在梦吧🤦‍♀️</section><section style="white-space: normal;margin-block-start: 1em;margin-block-end: 1em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;margin-top: 20px;">好了，iPhone XS 及以上并且已经升级到 iOS 14 的朋友们，可以愉快地玩起来了，NTAG213普通标签9.9元6个，还包邮，只不过不能贴在金属表面。还有支持更大容量的216以及支持抗金属等等，也有那种可以随身携带的滴胶卡，我买的是普通的213（下图中间那种），家里用用足够了。</section><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><img data-ratio="0.75" data-src="https://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv2cyQVq8icxH90LP0iaMokMCvJGfltoZCN7JG5YBcOsYeHSBniaQUcZzs5rdZRNuQ6HS0tZ3aRhXyuJQ/640?wx_fmt=png" data-type="png" data-w="1120" src="https://cloud.huahuoding.com/images/2021/03/19/20210319fQGD0w.png" style="border: none;width: 345px;height: 259px;"/></figure><figure style="white-space: normal;width: 700px;text-align: center;margin: auto;box-sizing: border-box;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>图片来自网</span><span style='color: rgba(0, 0, 0, 0.6);font-family: "FreightText Pro", Georgia, Cambria, "Times New Roman", Times, serif;font-size: 14px;font-style: italic;letter-spacing: 0.01rem;text-align: right;'>络，版权归原作者所有</span></figure><p><br/></p><ol class="list-paddingleft-2" style="white-space: normal;padding-left: 2em;margin-top: 1.2em;margin-bottom: 1.2em;caret-color: rgb(35, 43, 45);color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;font-size: 18px;letter-spacing: 0.1599999964237213px;"><li style="margin-top: 0.5em;margin-bottom: 0.5em;color: rgb(136, 136, 136);font-size: 16px;"><p><span style="color: rgb(136, 136, 136);font-size: 16px;">NFC Data Exchange Format : NFC数据交换格式，NFC组织约定的NFC tag中的数据格式。是轻量级的紧凑的二进制格式，可带有URL、vCard和NFC定义的各种数据类型。 ↩︎</span></p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;color: rgb(136, 136, 136);"><p><span style="color: rgb(136, 136, 136);font-size: 16px;">NTAG213，NTAG215，NTAG216 </span></p><p style="margin-block-start: 1em;margin-block-end: 1em;margin-top: 0.5em !important;margin-bottom: 0.5em !important;"><span style="color: rgb(136, 136, 136);font-size: 16px;">https://www.nxp.com.cn/products/rfid-nfc/nfc-hf/ntag-for-tags-labels:NTAG-TAGS-AND-LABELS  <span style="caret-color: rgb(35, 43, 45);color: rgb(136, 136, 136);font-family: Avenir, PingFangSC-Light;font-size: 16px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">↩︎</span></span></p></li><li style="margin-top: 0.5em;margin-bottom: 0.5em;color: rgb(136, 136, 136);"><p style="margin-block-start: 1em;margin-block-end: 1em;margin-top: 0.5em !important;margin-bottom: 0.5em !important;"><span style='font-size: 16px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif;'>入门 iOS 自动化，读懂 URL Schemes</span></p><p style="margin-block-start: 1em;margin-block-end: 1em;text-align: justify;margin-top: 0.5em !important;margin-bottom: 0.5em !important;"><span style="color: rgb(136, 136, 136);font-size: 16px;">https://sspai.com/post/44591 <span style="caret-color: rgb(35, 43, 45);color: rgb(136, 136, 136);font-family: Avenir, PingFangSC-Light;font-size: 16px;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);">↩︎</span><span style="font-size: 16px;color: rgb(136, 136, 136);caret-color: rgb(35, 43, 45);font-family: Avenir, PingFangSC-Light;letter-spacing: 0.1599999964237213px;background-color: rgb(255, 255, 255);"></span></span></p></li></ol><section class="mp_profile_iframe_wrp"><mpprofile class="js_uneditable custom_select_card mp_profile_iframe" data-alias="huahuoding" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/KFEEzuYoIv0LmpIf4dXwzTIG50OLkvK1SdtJiboJvIetlCNRMLwIv9krYgiaY2IkbH8NHRcWG50KgJfcQ2jl9WHA/0?wx_fmt=png" data-id="MzIyMjEzMjMwMg==" data-nickname="花火田丁" data-pluginname="mpprofile" data-signature="对与错，是与非，下一秒钟你又在哪里？这里有一切关于「relativity」的故事"></mpprofile></section><section style="margin-bottom: 16px;padding: 8px;font-family: inherit;border-width: 1px;border-style: solid;border-color: rgb(226, 226, 226);box-shadow: rgb(226, 226, 226) 0px 16px 1px -13px;font-size: 1.5em;line-height: 1;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style='margin-bottom: 1em;width: 4em;height: 4em;float: left;border-top-left-radius: 50%;border-top-right-radius: 50%;border-bottom-right-radius: 50%;border-bottom-left-radius: 50%;background-image: url("https://cloud.huahuoding.com/images/2021/03/19/202103196E2690.jpeg");background-size: cover;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;background-position: 50% 50%;background-repeat: no-repeat no-repeat;'><br/></section><section style="text-align: right;float: right;display: inline;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">撒欢吧</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">谈理想</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">聊人生</section></section><section style="margin-right: 3px;display: inline-block;vertical-align: top;width: 1.2em;line-height: 1.2;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">讲故事</section></section><section style="margin-right: 16px;display: inline-block;vertical-align: top;width: 1.1em;line-height: 1.2;font-size: 0.7em;font-family: inherit;text-decoration: inherit;color: rgb(255, 255, 255);border-color: rgb(249, 110, 87);background-color: rgb(95, 156, 239);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">相对论</section></section><section style="display: inline-block;vertical-align: top;width: 1.2em;line-height: 1em;font-family: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section></section><section style="clear: both;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">微信号：huahuoding</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">花火田丁</section></section><section style="line-height: 1.6em;font-size: 0.5em;font-family: inherit;text-decoration: inherit;color: rgb(120, 124, 129);max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">不折腾不人生</section></section></section></section></section></section></section></section>
</div>
<script nonce="1158894170" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    
                </script>
<div id="js_sponsor_ad_area"></div>
<div class="read-more__area" id="js_more_read_area" style="display:none;">
</div>
<div class="reward_area tc reward_area_primary reward_area_carry_whisper" id="js_reward_area" style="display:none;">
<div class="reward-avatar" id="js_reward_avatar" style="display: none;">
<img aria-labelledby="js_reward_author" id="js_reward_author_head" role="link" src="" title="作者"/>
</div>
<div aria-hidden="true" class="reward-author" id="js_reward_author" style="display: none;">花火田丁</div>
<p class="reward_tips js_reward_wording" role="option">艺术源于生活</p>
<p class="reward_button_wrp">
<span class="reward_pop_panel" id="js_author_reward_qrcode">
<img alt="赞赏二维码" id="js_author_reward_qrcode_img" src=""/>
<strong>微信扫一扫赞赏作者</strong>
</span>
<a class="reward_button weui-btn js_wx_tap_highlight" href="##" id="js_reward_link" role="button"><i class="icon_reward"></i><span id="js_reward_link_text">赞赏</span></a>
</p>
<div class="reward_whisper_wrp" id="js_reward_whisper" style="display: none;">
<div class="reward_whisper_word">已喜欢，<a class="reward_whisper_link" href="javascript:;" id="js_show_whisper_dialog">对作者说句悄悄话</a></div>
</div>
<div id="js_reward_whisper_dialog" style="display: none;">
<div class="like_comment_primary_wrp editing">
<div class="like_comment_primary_inner">
<div class="like_comment_primary_hd">
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_cancel" id="js_hide_whisper_dialog">
            取消<i class="weui-icon-close-thin"></i>
</button>
</div>
<h4 class="like_comment_primary_title">发送给作者</h4>
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_btn" disabled="disabled" id="js_whisper_send">发送</button>
</div>
</div>
<div class="like_comment_primary_bd">
<textarea class="like_comment_textarea weui-textarea" id="js_whisper_text" placeholder="说句悄悄话"></textarea>
</div>
<span class="like_comment_msg" id="js_whisper_msg" style="visibility: hidden;">最多40字，当前共<span id="js_whisper_current_cnt"></span>字</span>
</div>
</div>
<div class="like_comment_primary_mask" id="js_whisper_dialog_mask"></div>
</div>
<div class="reward_area_inner" id="js_reward_inner" style="display:none;">
<p class="weui-loadmore weui-loadmore_line reward_user_tips weui-loadmore_default" id="js_reward_total_parent">
<span class="weui-loadmore__tips">
<a aria-labelledby="js_reward_total js_reward_total_text" class="js_wx_tap_highlight wx_tap_link" href="javascript:;" id="js_reward_total"></a> <span aria-hidden="true" id="js_reward_total_text">人赞赏</span>
</span>
</p>
<div aria-hidden="true" class="reward_user_list" id="js_reward_list"></div>
<div aria-hidden="true" class="simple_pagination" id="js_reward_pagination" style="display: none;">
<button class="btn_sp_prev js_reward_pagination_prev" disabled="">上一页</button>
<span class="sp_page_num_area">
<a class="sp_page_current js_reward_pagination_curpage" href="javascript:;">1</a>/<span class="sp_page_num js_reward_pagination_totalpage">3</span>
</span>
<button class="btn_sp_next js_reward_pagination_next">下一页</button>
</div>
</div>
</div>
<div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
<p aria-hidden="true" class="tips_global" id="js_a11y_reward_qr_title">长按二维码向我转账</p>
<p aria-describedby="js_a11y_reward_qr_tips " aria-labelledby="js_a11y_reward_qr_word js_a11y_comma js_a11y_reward_qr_title js_a11y_reward_qr_money" class="reward_tips" id="js_a11y_reward_qr_word" role="option">艺术源于生活</p>
<span class="reward_qrcode_img_wrp"><img alt="赞赏二维码" class="reward_qrcode_img" id="js_reward_qrcode_img"/></span>
<p aria-hidden="true" class="tips_global" id="js_a11y_reward_qr_tips">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
</div>
</div>